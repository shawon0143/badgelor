<!-- Enter badge metadata -->
<ng-container *ngIf = "badgeService.showBadgeEditForm === true">
  <addNewBadge-component></addNewBadge-component>
</ng-container>

<div class="importBadgeContainer" *ngIf = "badgeService.showBadgeEditForm === false">
  <!-- =========================================================== -->
  <!-- ========= START OF ALL BADGELOR USERS TABLE =============== -->
  <!-- =========================================================== -->

  <div class="card">
    <div class="header">
      <h2><strong>All</strong> Badges</h2>
    </div>
    <ng-container *ngIf="badgeService.dataIsLoading === true">

     <div class="sk-circle">
       <div class="sk-circle1 sk-child"></div>
       <div class="sk-circle2 sk-child"></div>
       <div class="sk-circle3 sk-child"></div>
       <div class="sk-circle4 sk-child"></div>
       <div class="sk-circle5 sk-child"></div>
       <div class="sk-circle6 sk-child"></div>
       <div class="sk-circle7 sk-child"></div>
       <div class="sk-circle8 sk-child"></div>
       <div class="sk-circle9 sk-child"></div>
       <div class="sk-circle10 sk-child"></div>
       <div class="sk-circle11 sk-child"></div>
       <div class="sk-circle12 sk-child"></div>
     </div>
     <h5 class="text-center text-muted">Loading ...</h5>

   </ng-container>
    <div class="body table-responsive">
    <!-- TODO: Alert message for successful badge metadata update -->
     <!-- <ng-container *ngIf = "badgeService.newBadgeImportSuccessMsg !== ''">
        <div class="alert alert-success" role="alert">
          {{badgeService.newBadgeImportSuccessMsg}}
        </div>
     </ng-container> -->

     <ng-container *ngIf="badgeService.dataIsLoading  === false && badgeService.listOfAllBadges">
       <table class="table table-hover">
         <tbody>
           <ng-container *ngFor = "let badge of badgeService.listOfAllBadges; let i=index ">
             <tr>
               <td>{{i+1}}</td>
               <td><img class="img-fluid rounded border p-1" [src]="badge?.image | safe" alt="badgePic" (click) = "badgeService.showSingleBadgeModal(badge.id)"></td>
               <td class="text-capitalize">
                 <span class="badgeName">{{badge?.name}}</span>
                 <span class="badge badge-pill badge-warning text-capitalize ml-4" *ngIf="badge?.readyforissuing === false">
                   Not earnable
                 </span>
               </td>
               <td>
                 <button type="button" class="btn btn-sm btn-outline-success" (click) = "badgeService.showSingleBadgeModal(badge.id)">View</button>
                 <button type="button" class="btn btn-sm btn-outline-info" (click) = "badgeService.editThisBadge(badge.id)">Edit</button>
               </td>
             </tr>
           </ng-container>
         </tbody>
       </table>
     </ng-container>
     <ng-container *ngIf = "badgeService.dataIsLoading  === false && badgeService.isTheSystemHasBadges === false">
       <div class="alert alert-primary" role="alert">
         No badge found in badge library!
       </div>
     </ng-container>

    </div>
  </div> <!-- END of card-->
  <!-- =========================================================== -->
  <!-- ========= END OF ALL BADGELOR USERS TABLE ================= -->
  <!-- =========================================================== -->
</div>
